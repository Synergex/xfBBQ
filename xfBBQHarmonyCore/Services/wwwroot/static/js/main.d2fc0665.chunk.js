(this.webpackJsonpxfbbq=this.webpackJsonpxfbbq||[]).push([[0],{141:function(e,t,a){e.exports=a(247)},146:function(e,t,a){},157:function(e,t,a){},158:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsSAAALEgHS3X78AAABSElEQVQ4jbVVMW6EQAycRCkp7gehSB+ewAOCdE+gzidyfRryA5r0iPsAZUqqVCeFJ+QHE63kvfgcA4uUs2ShNfbYDIO5IYlr2N1MPAewB1AC2Kl4Jz6tIoeJle9INvy1ieQgPql4I7m2/uwWdJTCjmThFORyL1iZChwnrZcKVIPFHP3yBuGzSOT8W2p8zlWXUbj8F84tDc1GzgvF+ajBY0KcIInzvu9pYrUdbGniQabwgLwmF1TqpGiznOsGTrPzIBbY+hfJjwTpuU+t5RYkVQNolXwOx+NxkviqVVWVS215a7T6ItdohxTAYFmWPQC4BzBaHZdGBUE67dpOSOE4Andybj19zniUm6sKmA/imeRJzp8CTgWgPdre2xWQPRFe3qND4zuAVwBvMzQ3sjf+7ApLy5Mzcar0FnW8heNNwFtVceHX+ZkC+AGzB1LqkemqGwAAAABJRU5ErkJggg=="},159:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsSAAALEgHS3X78AAAAkUlEQVQ4jcWVUQrAIAiG3U7gDbpqR9xpev1Hy4GDCA1+JvhQ6Vep2QFAGHJSqBNwFRHdZKn5D+mhMK0YcgFQNx9RNT8Y5wP2ixn41C9klIXOwBn40i59kujmO9cM3SibmBLNQTbrLZrYaJ0WB202Xvr8dmJKjClVQaljysuj9Apad6P14xeehXr4A+3K+UxF5AZoEP/M5Tt2XQAAAABJRU5ErkJggg=="},164:function(e,t){},166:function(e,t){},197:function(e,t){},198:function(e,t){},247:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),c=a.n(o),l=(a(146),a(14)),u=a(13),s=a(17),i=(a(151),a(152),a(136)),d=a(31),m=a(53),p=a(32);function f(){var e={color:"#5bffd5"},t=Object(s.c)((function(e){return e.login}));return r.a.createElement(m.a,{expand:"lg",variant:"dark",bg:"primary",sticky:"top"},r.a.createElement(d.LinkContainer,{to:"/",exact:!0},r.a.createElement(m.a.Brand,null,r.a.createElement("i",null,"xf"),"BBQ")),r.a.createElement(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(m.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(p.a,{className:"mr-auto"},t.Type<=2?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.LinkContainer,{to:"/BBQ",activeStyle:e},r.a.createElement(p.a.Link,null,"BBQ")),r.a.createElement(d.LinkContainer,{to:"/NewBBQForm",activeStyle:e},r.a.createElement(p.a.Link,null,"New BBQ"))):r.a.createElement(r.a.Fragment,null),t.Type<=3?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.LinkContainer,{to:"/Favorite",activeStyle:e},r.a.createElement(p.a.Link,null,"Favorite")),r.a.createElement(d.LinkContainer,{to:"/Order",activeStyle:e},r.a.createElement(p.a.Link,null,"Order")),r.a.createElement(d.LinkContainer,{to:"/NewOrderForm",activeStyle:e},r.a.createElement(p.a.Link,null,"New Order"))):r.a.createElement(r.a.Fragment,null),t.Type<=1?r.a.createElement(d.LinkContainer,{to:"/User",activeStyle:e},r.a.createElement(p.a.Link,null,"User")):r.a.createElement(r.a.Fragment,null),r.a.createElement(d.LinkContainer,{to:"/UserRegistrationForm",activeStyle:e},r.a.createElement(p.a.Link,null,"User Registration")),t.Type?r.a.createElement(d.LinkContainer,{to:"/UserLogout",activeStyle:e},r.a.createElement(p.a.Link,null,"User Logout")):r.a.createElement(d.LinkContainer,{to:"/UserLogin",activeStyle:e},r.a.createElement(p.a.Link,null,"User Login")))))}var b=a(16);function E(){return document.title="\ud835\ude39\ud835\ude27BBQ",r.a.createElement(b.a,null,r.a.createElement("h1",null,r.a.createElement("i",null,"xf"),"BBQ"),r.a.createElement("p",null,r.a.createElement("i",null,"Your number one source of extra function BBQ.")))}var h=a(2),v=a.n(h),y=a(5),g=a(23);function k(e){return A.apply(this,arguments)}function A(){return(A=Object(y.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(204!==t.status){e.next=2;break}return e.abrupt("return","{}");case 2:if(!t.ok){e.next=4;break}return e.abrupt("return",t.json());case 4:if(401===t.status&&(window.alert("You are being signed out due to inactivity"),window.location.href="/UserLogout"),400!==t.status){e.next=10;break}return e.next=8,t.text();case 8:throw a=e.sent,new Error(a);case 10:throw new Error("Network response was not ok.");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){throw console.error("API call failed. "+e),e}var w,B="https://localhost:8086/Authentication/GetToken";function N(e){w=e}function C(e,t){return j.apply(this,arguments)}function j(){return(j=Object(y.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(B,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({Username:t,Password:a})});case 3:if(401!==(n=e.sent).status){e.next=8;break}e.t0="",e.next=11;break;case 8:return e.next=10,n.text();case 10:e.t0=e.sent;case 11:return e.abrupt("return",e.t0);case 14:return e.prev=14,e.t1=e.catch(0),e.abrupt("return",O(e.t1));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}var x="https://localhost:8086/odata/v1/Bbqs/";function I(){return S.apply(this,arguments)}function S(){return(S=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(x,{headers:{authorization:"Bearer ".concat(w)}});case 3:return t=e.sent,e.abrupt("return",k(t));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",O(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function D(e){return L.apply(this,arguments)}function L(){return(L=Object(y.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(x,"/").concat(t),{method:"DELETE",headers:{authorization:"Bearer ".concat(w)}});case 3:return a=e.sent,e.abrupt("return",k(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",O(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function F(e){return U.apply(this,arguments)}function U(){return(U=Object(y.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(x,"/").concat(t.Id||""),{method:t.Id?"PUT":"POST",headers:{"content-type":"application/json",authorization:"Bearer ".concat(w)},body:JSON.stringify(t)});case 3:return a=e.sent,e.abrupt("return",k(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",O(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var T=a(11),R=a.n(T),M=a(18),P=a(39),Y=a(12);function Q(){document.title="\ud835\ude39\ud835\ude27BBQ - BBQs";var e=Object(n.useState)({value:[]}),t=Object(g.a)(e,2),a=t[0],o=t[1],c=Object(n.useCallback)(Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){c()}),[c]),r.a.createElement(b.a,null,r.a.createElement(M.Link,{to:"/NewBBQForm"},r.a.createElement(Y.a,{variant:"primary",className:"float-right"},"New BBQ")),r.a.createElement("h2",null,"BBQs"),r.a.createElement(P.a,{striped:!0,className:"table-secondary"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-primary"},r.a.createElement("th",null,"BBQ ID"),r.a.createElement("th",null,"Date Created"),r.a.createElement("th",null,"Date Held On"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,a.value.map((function(e){return r.a.createElement("tr",{key:e.Id},r.a.createElement("td",null,e.Id),r.a.createElement("td",null,R.a.unix(e.Creationdate).format("MM/DD/YYYY")),r.a.createElement("td",null,R.a.unix(e.Helddate).format("MM/DD/YYYY")),r.a.createElement("td",null,R.a.unix(e.Helddate).isAfter(R()())?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.Link,{to:{pathname:"/NewBBQForm",state:e}},r.a.createElement(Y.a,{variant:"primary",size:"sm"},r.a.createElement("span",{role:"img","aria-label":"delete"},"\ud83d\udcdd")))," ",r.a.createElement(Y.a,{variant:"danger",size:"sm"},r.a.createElement("span",{role:"img","aria-label":"delete",onClick:Object(y.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e.Id);case 2:c(),u.b.error("Deleted BBQ ".concat(e.Id," and associated orders"));case 4:case"end":return t.stop()}}),t)})))},"\ud83d\uddd1\ufe0f"))):r.a.createElement("i",null,"No actions available")))})))))}var q=a(22),_=a(8);function H(e){var t,a=Object.assign({},e),n=Object(l.k)(),o=null===a||void 0===a||null===(t=a.location)||void 0===t?void 0:t.state;return document.title="\ud835\ude39\ud835\ude27BBQ - ".concat(o?"Edit":"New"," BBQ"),r.a.createElement(b.a,null,r.a.createElement("h2",null,"".concat(o?"Edit":"New"," BBQ")),r.a.createElement(q.b,{initialValues:o?{Helddate:R.a.unix(o.Helddate).format("YYYY-MM-DD")}:{},onSubmit:function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({Creationdate:o?o.Creationdate:parseInt(R()().format("X")),Helddate:parseInt(R()(t.Helddate).format("X")),Id:o?o.Id:void 0});case 2:u.b.success(o?"Edited BBQ":"Added new BBQ"),n.push("/BBQ");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validate:function(e){var t={};return e.Helddate||(t.Helddate=r.a.createElement(_.a.Label,{className:"text-danger"},"Required")),Object.keys(t).length?t:void 0},render:function(e){var t=e.handleSubmit,a=e.form,n=e.submitting,o=e.pristine;return r.a.createElement(_.a,{onSubmit:t},r.a.createElement(_.a.Group,null,r.a.createElement(q.a,{name:"Helddate"},(function(e){var t=e.input,a=e.meta;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a.Label,null,"Date to be held:"),r.a.createElement(_.a.Control,Object.assign({},t,{type:"date",min:R()().add(1,"days").format("YYYY-MM-DD"),required:!0})),a.error&&a.touched&&r.a.createElement("span",null,a.error))}))),r.a.createElement(_.a.Group,null,r.a.createElement(Y.a,{type:"submit",disabled:o||n,variant:"primary"},"Submit")," ",r.a.createElement(Y.a,{variant:"secondary",disabled:o||n,onClick:a.reset},"Reset Form")))}}))}var V="https://localhost:8086/odata/v1/Favorites";function G(e){return z.apply(this,arguments)}function z(){return(z=Object(y.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(V+t,{headers:{authorization:"Bearer ".concat(w)}});case 3:return a=e.sent,e.abrupt("return",k(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",O(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function W(){return(W=Object(y.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(V,"/").concat(t),{method:"DELETE",headers:{authorization:"Bearer ".concat(w)}});case 3:return a=e.sent,e.abrupt("return",k(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",O(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function J(e){return X.apply(this,arguments)}function X(){return(X=Object(y.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(V,"(Userid=").concat(t,")"),{method:"DELETE",headers:{authorization:"Bearer ".concat(w)}});case 3:return a=e.sent,e.abrupt("return",k(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",O(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function K(){return(K=Object(y.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(V,"/PostFavorites"),{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer ".concat(w)},body:JSON.stringify(t)});case 3:return a=e.sent,e.abrupt("return",k(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",O(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Z(e){var t;switch(e){case 0:t="Hotdog";break;case 1:t="Hamburger";break;case 2:t="Turkey Burger";break;case 3:t="Veggie Burger";break;case 4:t="Special";break;default:t="Unknown"}return t}function $(e){var t;switch(e){case 1:t="Rare";break;case 2:t="Medium Rare";break;case 3:t="Medium";break;case 4:t="Medium Well";break;case 5:t="Well Done";break;case 6:t="Special";break;default:t="Unknown"}return t}function ee(e){var t;switch(e){case 1:t="Normal";break;case 2:t="Hot Link";break;case 3:t="Sausage";break;case 4:t="Special";break;default:t="Unknown"}return t}function te(){document.title="\ud835\ude39\ud835\ude27BBQ - Favorites";var e=Object(s.c)((function(e){return e.login})),t=Object(n.useState)({value:[]}),a=Object(g.a)(t,2),o=a[0],c=a[1],l=Object(n.useCallback)((function(){function t(){return(t=Object(y.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G("(Userid=".concat(e.Id,")"));case 2:a=t.sent,c(a);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);return Object(n.useEffect)((function(){l()}),[l]),r.a.createElement(b.a,null,r.a.createElement(Y.a,{variant:"danger",className:"float-right",onClick:Object(y.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e.Id);case 2:l(),u.b.error("Deleted favorites");case 4:case"end":return t.stop()}}),t)})))},r.a.createElement("span",{role:"img","aria-label":"delete"},"\ud83d\uddd1\ufe0f")),r.a.createElement("h2",null,"Favorites"),r.a.createElement(P.a,{striped:!0,className:"table-secondary"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-primary"},r.a.createElement("th",null,"Favorite ID"),r.a.createElement("th",null,"User"),r.a.createElement("th",null,"Order"))),r.a.createElement("tbody",null,o.value.map((function(e){return r.a.createElement("tr",{key:e.Id},r.a.createElement("td",null,e.Id),r.a.createElement("td",null,e.Userid),r.a.createElement("td",null,e.Meat>0?r.a.createElement("div",null,Z(e.Meat),1===e.Meat?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),"Doneness: ".concat($(e.Doneness))):r.a.createElement(r.a.Fragment,null),r.a.createElement("br",null),"Cheese slices: ".concat(e.Cheese),r.a.createElement("br",null),"Spice level: ".concat(e.Spicy),r.a.createElement("br",null)):r.a.createElement("div",null,"Hotdog",r.a.createElement("br",null),"Type: ".concat(ee(e.Type)),r.a.createElement("br",null),"Number: ".concat(e.Count),r.a.createElement("br",null),"Burnt: ".concat(1===e.Burnt))))})))))}var ae=a(30),ne="https://localhost:8086/odata/v1/Orders";function re(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(y.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(ne+t,{headers:{authorization:"Bearer ".concat(w)}});case 3:return a=e.sent,e.abrupt("return",k(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",O(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ce(e){return le.apply(this,arguments)}function le(){return(le=Object(y.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ne,"/").concat(t),{method:"DELETE",headers:{authorization:"Bearer ".concat(w)}});case 3:return a=e.sent,e.abrupt("return",k(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",O(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ue(e){return se.apply(this,arguments)}function se(){return(se=Object(y.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ne,"/").concat(t.Id||""),{method:t.Id?"PUT":"POST",headers:{"content-type":"application/json",authorization:"Bearer ".concat(w)},body:JSON.stringify(t)});case 3:return a=e.sent,e.abrupt("return",k(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",O(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var ie=a(134),de=a.n(ie);function me(){document.title="\ud835\ude39\ud835\ude27BBQ - Orders";var e=Object(s.c)((function(e){return e.login})),t=Object(n.useState)([]),a=Object(g.a)(t,2),o=a[0],c=a[1],l=Object(n.useCallback)(Object(y.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re("?$expand=REL_Bbq($select=Helddate)".concat(3===e.Type?"&$filter=Userid eq ".concat(e.Id):""));case 2:a=t.sent,c(de.a.sortBy(a.value,["Bbqid","Userid","Id"]));case 4:case"end":return t.stop()}}),t)}))),[e]);Object(n.useEffect)((function(){l()}),[l]);for(var i=o.map((function(e){return Object(ae.a)({},e,{theirOrders:[Object(ae.a)({},e)]})})),d=i.length-1;d>=0;d--){var m=d-1;m>=0&&i[d].Bbqid===i[m].Bbqid&&i[d].Userid===i[m].Userid&&(i[m].theirOrders=i[m].theirOrders.concat(i[d].theirOrders),i.splice(d,1))}return r.a.createElement(b.a,null,r.a.createElement(M.Link,{to:"/NewOrderForm"},r.a.createElement(Y.a,{variant:"primary",className:"float-right"},"New Order")),r.a.createElement("h2",null,"Orders"),r.a.createElement(P.a,{striped:!0,className:"table-secondary"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-primary"},r.a.createElement("th",null,"Order ID"),r.a.createElement("th",null,"User ID"),r.a.createElement("th",null,"BBQ ID"),r.a.createElement("th",null,"Order Date"),r.a.createElement("th",null,"Order"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e.Id},r.a.createElement("td",null,e.Id),r.a.createElement("td",null,e.Userid),r.a.createElement("td",null,e.Bbqid),r.a.createElement("td",null,R.a.unix(e.Orderdate).format("MM/DD/YYYY")),r.a.createElement("td",null,e.theirOrders.map((function(e){return e.Meat>0?r.a.createElement("div",{key:e.Id},"=====",r.a.createElement("br",null),Z(e.Meat),1===e.Meat?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),"Doneness: ".concat($(e.Doneness))):r.a.createElement(r.a.Fragment,null),r.a.createElement("br",null),"Cheese slices: ".concat(e.Cheese),r.a.createElement("br",null),"Spice level: ".concat(e.Spicy),r.a.createElement("br",null)):r.a.createElement("div",{key:e.Id},"=====",r.a.createElement("br",null),"Hotdog",r.a.createElement("br",null),"Type: ".concat(ee(e.Type)),r.a.createElement("br",null),"Number: ".concat(e.Count),r.a.createElement("br",null),"Burnt: ".concat(1===e.Burnt),r.a.createElement("br",null))}))),r.a.createElement("td",null,R.a.unix(e.REL_Bbq.Helddate).isAfter(R()())?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.Link,{to:{pathname:"/NewOrderForm",state:e.theirOrders}},r.a.createElement(Y.a,{variant:"primary",size:"sm"},r.a.createElement("span",{role:"img","aria-label":"delete"},"\ud83d\udcdd")))," ",r.a.createElement(Y.a,{variant:"danger",onClick:function(){e.theirOrders.forEach(function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t.Id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l(),u.b.error("Deleted orders")}},r.a.createElement("span",{role:"img","aria-label":"delete"},"\ud83d\uddd1\ufe0f"))):r.a.createElement("i",null,"No actions available")))})))))}var pe=a(24),fe=(a(157),0);function be(e){var t=Object.assign({},e);document.title="\ud835\ude39\ud835\ude27BBQ - Place an Order";var o=Object(s.c)((function(e){return e.login})),c=Object(l.k)(),i=Object(n.useState)({value:[]}),d=Object(g.a)(i,2),m=d[0],p=d[1],f=Object(n.useState)({value:[]}),b=Object(g.a)(f,2),E=b[0],h=b[1],k=Object(n.useCallback)((function(){function e(){return(e=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("(Userid=".concat(o.Id,")"));case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o]);Object(n.useEffect)((function(){function e(){return(e=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),k()}),[k]);var A=t.location.state,O=Object(n.useState)(A?A.map((function(e){return 0===e.Meat?{key:1e18*Math.random(),id:1,foodFlavor:"",foodCategory:"Hotdog",foodAttributes:{burnt:!!e.Burnt,quantity:e.Count},orderID:e.Id,userID:e.Userid}:{key:1e18*Math.random(),foodFlavor:1===e.Meat?"Beef":2===e.Meat?"Turkey":"Veggie",foodCategory:"Burger",foodAttributes:{cheese:e.Cheese>=1,spice:e.Spicy>=1,doneness:void 0===e.Doneness?"":j(e.Doneness)},orderID:e.Id,userID:e.Userid}})):[]),w=Object(g.a)(O,2),B=w[0],N=w[1];function C(e){switch(e){case"Rare":return 1;case"MedRare":return 2;case"Med":return 3;case"MedWell":return 4;case"Well":return 5;default:return 6}}function j(e){switch(e){case 1:return"Rare";case 2:return"MedRare";case 3:return"Med";case 4:return"MedWell";case 5:return"Well";default:return""}}function x(e,t){var n,o="";switch(t.foodCategory){case"Burger":n=function(e){var t="";"Beef"===e.foodFlavor&&(t=r.a.createElement(r.a.Fragment,null,"How would you like your burger cooked?",r.a.createElement("div",{className:"row pt-3 pb-3"},r.a.createElement("div",{className:"btn-group btn-vertical btn-group-toggle col-12","data-toggle":"buttons"},r.a.createElement("div",{className:"Rare"===e.foodAttributes.doneness?"btn btn-primary":"btn btn-dark",onClick:function(){e.foodAttributes.doneness="Rare",B[B.findIndex((function(t){return t.key===e.key}))].foodAttributes.doneness=e.foodAttributes.doneness,N(Object(pe.a)(B))}},"Rare"),r.a.createElement("div",{className:"MedRare"===e.foodAttributes.doneness?"btn btn-primary":"btn btn-dark",onClick:function(){e.foodAttributes.doneness="MedRare",B[B.findIndex((function(t){return t.key===e.key}))].foodAttributes.doneness=e.foodAttributes.doneness,N(Object(pe.a)(B))}},"Medium Rare"),r.a.createElement("div",{className:"Med"===e.foodAttributes.doneness?"btn btn-primary":"btn btn-dark",onClick:function(){e.foodAttributes.doneness="Med",B[B.findIndex((function(t){return t.key===e.key}))].foodAttributes.doneness=e.foodAttributes.doneness,N(Object(pe.a)(B))}},"Medium"),r.a.createElement("div",{className:"MedWell"===e.foodAttributes.doneness?"btn btn-primary":"btn btn-dark",onClick:function(){e.foodAttributes.doneness="MedWell",B[B.findIndex((function(t){return t.key===e.key}))].foodAttributes.doneness=e.foodAttributes.doneness,N(Object(pe.a)(B))}},"Medium Well"),r.a.createElement("div",{className:"Well"===e.foodAttributes.doneness?"btn btn-primary":"btn btn-dark",onClick:function(){e.foodAttributes.doneness="Well",B[B.findIndex((function(t){return t.key===e.key}))].foodAttributes.doneness=e.foodAttributes.doneness,N(Object(pe.a)(B))}},"Well Done")))));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-12"},"What would you like added to your burger?",r.a.createElement("div",{className:"row pt-3 pb-3"},r.a.createElement("div",{className:"yellowtoggleButton checkboxButton col-sm-6 col-12"},r.a.createElement("input",{className:"",type:"checkbox",onClick:function(){e.foodAttributes.cheese=!e.foodAttributes.cheese,B[B.findIndex((function(t){return t.key===e.key}))].foodAttributes.cheese=e.foodAttributes.cheese,N(Object(pe.a)(B))},id:e.foodFlavor+e.id+"Cheese",value:"Cheese",defaultChecked:e.foodAttributes.cheese}),r.a.createElement("label",{className:"form-check-label btn btn-block btn-dark btn-lg",htmlFor:e.foodFlavor+e.id+"Cheese"},"Cheese")),r.a.createElement("div",{className:"redToggleButton checkboxButton col-sm-6 col-12"},r.a.createElement("input",{className:"",type:"checkbox",onClick:function(){e.foodAttributes.spice=!e.foodAttributes.spice,B[B.findIndex((function(t){return t.key===e.key}))].foodAttributes.spice=e.foodAttributes.spice,N(Object(pe.a)(B))},id:e.foodFlavor+e.id+"Spice",value:"Spice",defaultChecked:e.foodAttributes.spice}),r.a.createElement("label",{className:"form-check-label btn btn btn-block btn-dark btn-lg",htmlFor:e.foodFlavor+e.id+"Spice"},"Spice"))),t))}(t),o=r.a.createElement("button",{type:"button",className:"close pr-2 pl-2",title:"Add a copy of this order",id:t.foodItem+t.foodValue+"DuplicateOrderButton",onClick:function(){!function(e,t){fe++;for(var a=1,n=0;n<e.length;++n)e[n].foodFlavor+e[n].foodCategory===t.foodFlavor+t.foodCategory&&a++;e.splice(e.map((function(e){return e.key})).indexOf(t.key),0,{key:fe,id:a,foodFlavor:t.foodFlavor,foodCategory:t.foodCategory,foodAttributes:Object(ae.a)({},t.foodAttributes)}),N(Object(pe.a)(e))}(e,t)}},r.a.createElement("img",{src:a(158),alt:"D"}));break;case"Hotdog":n=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-12"},"How would you like your Hotdog?",r.a.createElement("div",{className:"btn-group btn-vertical btn-group-toggle pt-2 pb-2","data-toggle":"buttons"},r.a.createElement("div",{className:!1===e.foodAttributes.burnt?"btn btn-primary":"btn btn-dark",onClick:function(){e.foodAttributes.burnt=!1,B[B.findIndex((function(t){return t.key===e.key}))].foodAttributes.burnt=e.foodAttributes.burnt,N(Object(pe.a)(B))}},"Normal"),r.a.createElement("div",{className:!0===e.foodAttributes.burnt?"btn btn-primary":"btn btn-dark",onClick:function(){e.foodAttributes.burnt=!0,B[B.findIndex((function(t){return t.key===e.key}))].foodAttributes.burnt=e.foodAttributes.burnt,N(Object(pe.a)(B))}},"Burnt")),"How many would you like?",r.a.createElement("div",{className:"btn-group btn-vertical btn-group-toggle pt-2 pb-2","data-toggle":"buttons"},r.a.createElement("div",{className:1===e.foodAttributes.quantity?"btn btn-primary":"btn btn-dark",onClick:function(){e.foodAttributes.quantity=1,B[B.findIndex((function(t){return t.key===e.key}))].foodAttributes.quantity=e.foodAttributes.quantity,N(Object(pe.a)(B))}},"1"),r.a.createElement("div",{className:2===e.foodAttributes.quantity?"btn btn-primary":"btn btn-dark",onClick:function(){e.foodAttributes.quantity=2,B[B.findIndex((function(t){return t.key===e.key}))].foodAttributes.quantity=e.foodAttributes.quantity,N(Object(pe.a)(B))}},"2"))))}(t);break;default:alert("making an undefined food item in drawCard()")}return r.a.createElement("div",{className:"card bg-secondary mt-2 mb-2 pt-2 pb-2"+(void 0===t.delete?"":" d-none"),id:t.foodFlavor+t.id,key:t.key},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h4",{className:"pl-2"},t.foodFlavor+" "+t.foodCategory)),r.a.createElement("div",{className:"col-2"},r.a.createElement("button",{type:"button",className:"close pr-2 pl-2","aria-label":"Close",title:"Remove from your order",onClick:function(){!function(e,t){for(var a=0;a<e.length;a++)e[a].foodFlavor+e[a].foodCategory===t.foodFlavor+t.foodCategory&&e[a].id>t.id&&e[a].id--;var n=e.findIndex((function(e){return e.key===t.key}));void 0===e[n].orderID?e.splice(n,1):e[n].delete=!0;N(Object(pe.a)(e))}(e,t)}},r.a.createElement("img",{src:a(159),alt:"R"})),o)),n)}function S(e,t,a){var n;fe++,"Burger"===a&&(n={cheese:!1,spice:!1},"Beef"===t&&(n.doneness="Med")),"Hotdog"===a&&(n={burnt:!1,quantity:1});for(var r=1,o=0;o<e.length;++o)e[o].foodFlavor+e[o].foodCategory===t+a&&r++;N([{key:fe,id:r,foodFlavor:t,foodCategory:a,foodAttributes:n}].concat(Object(pe.a)(e)))}function D(){return(D=Object(y.a)(v.a.mark((function e(){var t,a,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=parseInt(R()().format("X")),n=null===A||void 0===A?o.Id:A[0].Userid,r=0===m.value.length?0:m.value[m.value.length-1].Id,window.confirm("Make sure your order is correct before submitting.\r\nIs this what you want to order?\r\n"+B.map((function(e){if("Burger"!==e.foodCategory)return t.push({orderDate:a,userID:n,bbqID:r,type:1,count:e.foodAttributes.quantity,burnt:e.foodAttributes.burnt?1:0,id:e.orderID,delete:!!e.delete||""}),"\r\n\u2022 "+(e.delete?"REMOVE ":"")+"Hotdogs:\r\n  - Burnt: "+(e.foodAttributes.burnt?"Yes":"No")+"\r\n  - Amount: "+e.foodAttributes.quantity;switch(e.foodFlavor){case"Beef":return t.push({orderDate:a,userID:n,bbqID:r,meat:1,doneness:C(e.foodAttributes.doneness),cheese:e.foodAttributes.cheese?1:0,spicy:e.foodAttributes.spice?1:0,id:e.orderID,delete:!!e.delete||""}),"\r\n\u2022 "+(e.delete?"REMOVE ":"")+"Beef Burger:\r\n  - Cheese: "+(e.foodAttributes.cheese?"Yes":"No")+"\r\n  - Spice: "+(e.foodAttributes.spice?"Yes":"No")+"\r\n  - Doneness: "+e.foodAttributes.doneness;case"Turkey":return t.push({orderDate:a,userID:n,bbqID:r,meat:2,cheese:e.foodAttributes.cheese?1:0,spicy:e.foodAttributes.spice?1:0,id:e.orderID,delete:!!e.delete||""}),"\r\n\u2022 "+(e.delete?"REMOVE ":"")+"Turkey Burger:\r\n  - Cheese: "+(e.foodAttributes.cheese?"Yes":"No")+"\r\n  - Spice: "+(e.foodAttributes.spice?"Yes":"No");case"Veggie":return t.push({orderDate:a,userID:n,bbqID:r,meat:3,cheese:e.foodAttributes.cheese?1:0,spicy:e.foodAttributes.spice?1:0,id:e.orderID,delete:!!e.delete||""}),"\r\n\u2022 "+(e.delete?"REMOVE ":"")+"Veggie Burger:\r\n  - Cheese: "+(e.foodAttributes.cheese?"Yes":"No")+"\r\n  - Spice: "+(e.foodAttributes.spice?"Yes":"No");default:return""}})).join(""))&&(u.b.info((A?"Editing ":"Creating ")+"order"+(t.length>1?"s":"")+" ..."),t.forEach((function(e){e.delete?ce(e.id):ue({Meat:e.meat?e.meat:0,Cheese:e.cheese?e.cheese:0,Doneness:e.doneness?e.doneness:0,Spicy:e.spicy?e.spicy:0,Type:e.type?e.type:0,Count:e.count?e.count:0,Burnt:e.burnt?e.burnt:0,Orderdate:e.orderDate,Userid:e.userID,Bbqid:e.bbqID,Id:e.id})})),c.push("/Order"));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){E.value&&!A&&N(E.value.map((function(e){return 0===e.Meat?{key:1e18*Math.random(),id:1,foodFlavor:"",foodCategory:"Hotdog",foodAttributes:{burnt:!!e.Burnt,quantity:e.Count},userID:e.Userid,favoriteID:e.Id}:{key:1e18*Math.random(),foodFlavor:1===e.Meat?"Beef":2===e.Meat?"Turkey":"Veggie",foodCategory:"Burger",foodAttributes:{cheese:e.Cheese>=1,spice:e.Spicy>=1,doneness:void 0===e.Doneness?"":j(e.Doneness)},userID:e.Userid,favoriteID:e.Id}})))}),[E,A]),r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h2",null,"Place an Order"),r.a.createElement(q.b,{onSubmit:function(){return D.apply(this,arguments)},render:function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"btn",id:"addBeefButton",onClick:function(){return S(B,"Beef","Burger")},type:"button"},"Beef Burger"),r.a.createElement("button",{className:"btn",id:"addTurkeyButton",onClick:function(){return S(B,"Turkey","Burger")},type:"button"},"Turkey Burger"),r.a.createElement("button",{className:"btn",id:"addVeggieButton",onClick:function(){return S(B,"Veggie","Burger")},type:"button"},"Veggie Burger"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("button",{className:"btn",id:"addHotdogButton",onClick:function(){return S(B,"","Hotdog")},type:"button"},"Hotdog")),r.a.createElement("div",{className:"col-6 text-right"},r.a.createElement("button",{type:"button",disabled:0===B.length,title:"Save favorite",className:"btn btn-lg btn-danger",onClick:function(){var e=[],t=null===A||void 0===A?o.Id:A[0].Userid;if(window.confirm("Are you sure you want to save this order as your favorite?\r\n"+B.map((function(a){if("Burger"!==a.foodCategory)return e.push({userID:t,type:1,count:a.foodAttributes.quantity,burnt:a.foodAttributes.burnt?1:0,id:a.favoriteID,delete:!!a.delete||""}),"\r\n\u2022 "+(a.delete?"REMOVE ":"")+"Hotdogs:\r\n  - Burnt: "+(a.foodAttributes.burnt?"Yes":"No")+"\r\n  - Amount: "+a.foodAttributes.quantity;switch(a.foodFlavor){case"Beef":return e.push({userID:t,meat:1,doneness:C(a.foodAttributes.doneness),cheese:a.foodAttributes.cheese?1:0,spicy:a.foodAttributes.spice?1:0,id:a.favoriteID,delete:!!a.delete||""}),"\r\n\u2022 "+(a.delete?"REMOVE ":"")+"Beef Burger:\r\n  - Cheese: "+(a.foodAttributes.cheese?"Yes":"No")+"\r\n  - Spice: "+(a.foodAttributes.spice?"Yes":"No")+"\r\n  - Doneness: "+a.foodAttributes.doneness;case"Turkey":return e.push({userID:t,meat:2,cheese:a.foodAttributes.cheese?1:0,spicy:a.foodAttributes.spice?1:0,id:a.favoriteID,delete:!!a.delete||""}),"\r\n\u2022 "+(a.delete?"REMOVE ":"")+"Turkey Burger:\r\n  - Cheese: "+(a.foodAttributes.cheese?"Yes":"No")+"\r\n  - Spice: "+(a.foodAttributes.spice?"Yes":"No");case"Veggie":return e.push({userID:t,meat:3,cheese:a.foodAttributes.cheese?1:0,spicy:a.foodAttributes.spice?1:0,id:a.favoriteID,delete:!!a.delete||""}),"\r\n\u2022 "+(a.delete?"REMOVE ":"")+"Veggie Burger:\r\n  - Cheese: "+(a.foodAttributes.cheese?"Yes":"No")+"\r\n  - Spice: "+(a.foodAttributes.spice?"Yes":"No");default:return""}})).join(""))){u.b.info((A?"Editing ":"Creating ")+"favorite"+(e.length>1?"s":"")+" ...");var a=[];e.forEach((function(e){e.delete?function(e){W.apply(this,arguments)}(e.id):a.push({Meat:e.meat?e.meat:0,Cheese:e.cheese?e.cheese:0,Doneness:e.doneness?e.doneness:0,Spicy:e.spicy?e.spicy:0,Type:e.type?e.type:0,Count:e.count?e.count:0,Burnt:e.burnt?e.burnt:0,Userid:e.userID,Id:e.id})})),J(t).then(function(e){return K.apply(this,arguments)}({Favorites:a}))}}},r.a.createElement("span",{role:"img","aria-label":"favorite"},"\ud83d\udc96"))," ",r.a.createElement("button",{className:0===B.length?"btn btn-lg btn-secondary":"btn btn-lg btn-success",disabled:0===B.length,type:"submit",id:"submitOrderButton"},"Submit Order"))))}}),B.map((function(e){return r.a.createElement("div",{key:e.key},x(B,e),r.a.createElement("p",null))})))}var Ee="https://localhost:8086/odata/v1/Users";function he(){return ve.apply(this,arguments)}function ve(){return(ve=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Ee,{headers:{authorization:"Bearer ".concat(w)}});case 3:return t=e.sent,e.abrupt("return",k(t));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",O(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ye(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(y.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Ee,"?$filter=Name eq '").concat(t,"'"),{headers:{authorization:"Bearer ".concat(w)}});case 3:return a=e.sent,e.abrupt("return",k(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",O(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ke(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(y.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Ee,"/").concat(t),{method:"DELETE",headers:{authorization:"Bearer ".concat(w)}});case 3:return a=e.sent,e.abrupt("return",k(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",O(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Oe(e,t){return we.apply(this,arguments)}function we(){return(we=Object(y.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Ee,"/").concat(t.Id||""),{method:t.Id?"PUT":"POST",headers:{authorization:"Bearer ".concat(w),"content-type":"application/json","x-response":a},body:JSON.stringify(t)});case 3:return n=e.sent,e.abrupt("return",k(n));case 7:e.prev=7,e.t0=e.catch(0),O(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Be(){document.title="\ud835\ude39\ud835\ude27BBQ - Users";var e=Object(n.useState)({value:[]}),t=Object(g.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(0),l=Object(g.a)(c,2),i=l[0],d=l[1],m=Object(s.c)((function(e){return e.login})),p=Object(n.useCallback)(Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:t=e.sent,o(t),d(t.value.filter((function(e){return 1===e.Type})).length);case 5:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){p()}),[p]),r.a.createElement(b.a,null,r.a.createElement(M.Link,{to:"/UserRegistrationForm"},r.a.createElement(Y.a,{variant:"primary",className:"float-right"},"New User")),r.a.createElement("h2",null,"Users"),r.a.createElement(P.a,{striped:!0,className:"table-secondary"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-primary"},r.a.createElement("th",null,"User ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Join Date"),r.a.createElement("th",null,"Last Login Date"),r.a.createElement("th",null,"User type"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,a.value.map((function(e){return r.a.createElement("tr",{key:e.Id},r.a.createElement("td",null,e.Id),r.a.createElement("td",null,e.Name),r.a.createElement("td",null,R.a.unix(e.Joindate).format("MM/DD/YYYY")),r.a.createElement("td",null,R.a.unix(e.Lastlogindate).format("MM/DD/YYYY")),r.a.createElement("td",null,1===e.Type?"Administrator":2===e.Type?"Host":"Attendee"),r.a.createElement("td",null,e.Email),r.a.createElement("td",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(M.Link,{to:{pathname:"/UserRegistrationForm",state:e}},r.a.createElement(Y.a,null,r.a.createElement("span",{role:"img","aria-label":"delete"},"\ud83d\udcdd")))," ",i<=1&&1===e.Type||e.Id===m.Id?r.a.createElement(r.a.Fragment,null):r.a.createElement(Y.a,{variant:"danger"},r.a.createElement("span",{role:"img","aria-label":"delete",onClick:Object(y.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ke(e.Id);case 2:p(),u.b.error("Deleted user ".concat(e.Id," and associated favorites and orders"));case 4:case"end":return t.stop()}}),t)})))},"\ud83d\uddd1\ufe0f")))))})))))}var Ne=a(89),Ce=a(140);function je(e){var t,a=Object.assign({},e),o=Object(l.k)(),c=Object(s.c)((function(e){return e.login})),i=Object(n.useState)(null),d=Object(g.a)(i,2),m=d[0],p=d[1],f=null===a||void 0===a||null===(t=a.location)||void 0===t?void 0:t.state;return document.title="\ud835\ude39\ud835\ude27BBQ - ".concat(f?"Edit":"New"," User Registration"),r.a.createElement(b.a,null,r.a.createElement("h2",null,"User Registration"),r.a.createElement(q.b,{initialValues:f?{Name:f.Name,Email:f.Email,Type:f.Type}:{Type:1===c.Type?void 0:3},onSubmit:function(e){Ne.genSalt(13,(function(t,a){Ne.hash(e.Password,a,function(){var t=Object(y.a)(v.a.mark((function t(a,n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe({Id:f?f.Id:void 0,Name:e.Name,Email:e.Email,Type:e.Type,Joindate:f?f.Joindate:parseInt(R()().format("X")),Hash:n},m);case 2:u.b.success("".concat(f?"Edited":"Added new user"," ").concat(e.Name)),o.push("/".concat(1===c.Type?"User":""));case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())}))},validate:function(e){var t={},a=r.a.createElement(_.a.Label,{className:"text-danger"},"Required");return e.Name||(t.Name=a),e.Email||(t.Email=a),e.Password||(t.Password=a),e.PasswordConfirm?e.Password!==e.PasswordConfirm&&(t.PasswordConfirm=r.a.createElement(_.a.Label,{className:"text-danger"},"Passwords do not match")):t.PasswordConfirm=a,e.Type||(t.Type=a),Object.keys(t).length?t:void 0},render:function(e){var t=e.handleSubmit,a=e.form,n=e.submitting,o=e.pristine;return r.a.createElement(_.a,{onSubmit:t},r.a.createElement(_.a.Group,null,r.a.createElement(q.a,{name:"Name"},(function(e){var t=e.input,a=e.meta;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a.Label,null,"Name: "),r.a.createElement(_.a.Control,Object.assign({},t,{type:"text",placeholder:"Name",required:!0})),a.error&&a.touched&&r.a.createElement("span",null,a.error))}))),r.a.createElement(_.a.Group,null,r.a.createElement(q.a,{name:"Email"},(function(e){var t=e.input,a=e.meta;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a.Label,null,"Email: "),r.a.createElement(_.a.Control,Object.assign({},t,{type:"email",placeholder:"Email",required:!0})),a.error&&a.touched&&r.a.createElement("span",null,a.error))}))),r.a.createElement(_.a.Group,null,r.a.createElement(q.a,{name:"Password"},(function(e){var t=e.input,a=e.meta;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a.Label,null,"Password: "),r.a.createElement(_.a.Control,Object.assign({},t,{type:"password",placeholder:"Password",required:!0})),a.error&&a.touched&&r.a.createElement("span",null,a.error))}))),r.a.createElement(_.a.Group,null,r.a.createElement(q.a,{name:"PasswordConfirm"},(function(e){var t=e.input,a=e.meta;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a.Label,null,"Confirm Password:"," "),r.a.createElement(_.a.Control,Object.assign({},t,{type:"password",placeholder:"Confirm Password",required:!0})),a.error&&a.touched&&r.a.createElement("span",null,a.error))}))),1===c.Type?r.a.createElement(_.a.Group,null,r.a.createElement(q.a,{name:"Type"},(function(e){var t=e.input,a=e.meta;return r.a.createElement("div",null,r.a.createElement(_.a.Label,null,"Type: "),r.a.createElement(_.a.Control,Object.assign({as:"select"},t,{required:!0}),r.a.createElement("option",{value:"",disabled:!0},"Pick an Account Type"),r.a.createElement("option",{value:"1"},"Administrator"),r.a.createElement("option",{value:"2"},"Host"),r.a.createElement("option",{value:"3"},"Attendee")),a.error&&a.touched&&r.a.createElement("span",null,a.error))}))):r.a.createElement(r.a.Fragment,null),r.a.createElement(_.a.Group,null,r.a.createElement(Ce.a,{theme:"dark",sitekey:"6LfJ6dsUAAAAAFwaXDIGHHhwiFe7oNhLBP-S66OQ",onChange:function(e){return p(e)}})),r.a.createElement(_.a.Group,null,r.a.createElement(Y.a,{type:"submit",disabled:o||n||!m,variant:"primary"},"Submit")," ",r.a.createElement(Y.a,{disabled:o||n,onClick:a.reset,variant:"secondary"},"Reset Form")))}}))}function xe(e){return function(){var t=Object(y.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"BEGIN_API_CALL"}),t.prev=1,a({type:"LOGIN_USER_SUCCESS",login:e}),t.next=9;break;case 5:throw t.prev=5,t.t0=t.catch(1),a((t.t0,{type:"API_CALL_ERROR"})),t.t0;case 9:case"end":return t.stop()}}),t,null,[[1,5]])})));return function(e){return t.apply(this,arguments)}}()}function Ie(e){return{type:"GET_TOKEN_SUCCESS",token:e}}function Se(e){return function(){var t=Object(y.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"BEGIN_API_CALL"}),t.prev=1,a(Ie(e)),t.next=9;break;case 5:throw t.prev=5,t.t0=t.catch(1),a((t.t0,{type:"API_CALL_ERROR"})),t.t0;case 9:case"end":return t.stop()}}),t,null,[[1,5]])})));return function(e){return t.apply(this,arguments)}}()}function De(){document.title="\ud835\ude39\ud835\ude27BBQ - Login";var e=Object(l.k)(),t=Object(s.b)();return r.a.createElement(b.a,null,r.a.createElement("h2",null,"Login"),r.a.createElement(q.b,{onSubmit:function(){var a=Object(y.a)(v.a.mark((function a(n){var r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C(n.Name,n.Password);case 2:(r=a.sent)?(t(Se({token:r})),ye(n.Name).then((function(a){var n=a.value[0];t(xe({Id:n.Id,Name:n.Name,Type:n.Type})),Oe(Object(ae.a)({},n,{Lastlogindate:parseInt(R()().format("X"))})),u.b.success("Logged in!"),e.push("/")}))):u.b.error("Wrong Name or Password");case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),validate:function(e){var t={},a=r.a.createElement(_.a.Label,{className:"text-danger"},"Required");return e.Name||(t.Name=a),e.Password||(t.Password=a),Object.keys(t).length?t:void 0},render:function(e){var t=e.handleSubmit,a=e.form,n=e.submitting,o=e.pristine;return r.a.createElement(_.a,{onSubmit:t},r.a.createElement(_.a.Group,null,r.a.createElement(q.a,{name:"Name"},(function(e){var t=e.input,a=e.meta;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a.Label,null,"Name: "),r.a.createElement(_.a.Control,Object.assign({},t,{type:"input",placeholder:"Name",required:!0})),a.error&&a.touched&&r.a.createElement("span",null,a.error))}))),r.a.createElement(_.a.Group,null,r.a.createElement(q.a,{name:"Password"},(function(e){var t=e.input,a=e.meta;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a.Label,null,"Password: "),r.a.createElement(_.a.Control,Object.assign({},t,{type:"password",placeholder:"Password",required:!0})),a.error&&a.touched&&r.a.createElement("span",null,a.error))}))),r.a.createElement(_.a.Group,null,r.a.createElement(Y.a,{type:"submit",disabled:o||n,variant:"primary"},"Submit")," ",r.a.createElement(Y.a,{variant:"secondary",disabled:o||n,onClick:a.reset},"Reset Form")))}}))}var Le=a(135);function Fe(){document.title="\ud835\ude39\ud835\ude27BBQ - Logout";var e=Object(l.k)(),t=Object(s.b)();return setTimeout((function(){t(function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"BEGIN_API_CALL"}),e.prev=1,t({type:"LOGOUT_USER_SUCCESS"}),e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(1),t((e.t0,{type:"API_CALL_ERROR"})),e.t0;case 9:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t){return e.apply(this,arguments)}}()),t(function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"BEGIN_API_CALL"}),e.prev=1,t({type:"REMOVE_TOKEN_SUCCESS"}),e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(1),t((e.t0,{type:"API_CALL_ERROR"})),e.t0;case 9:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t){return e.apply(this,arguments)}}()),e.push("/"),u.b.success("Successfully logged out")}),2500),r.a.createElement(b.a,null,r.a.createElement("center",null,r.a.createElement("h2",null,"Logging you out..."),r.a.createElement("br",null),r.a.createElement(Le.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))))}function Ue(){return document.title="\ud835\ude39\ud835\ude27BBQ",r.a.createElement(b.a,null,r.a.createElement("h1",null,"Let me beef frank..."),r.a.createElement("br",null),r.a.createElement("p",null,"Why are you all up in my grill?"),r.a.createElement("p",null,"Lettuce celebrate you being on the 404 page."))}function Te(){var e=Object(s.c)((function(e){return e.login}));return r.a.createElement(i.a,{fluid:!0},r.a.createElement(f,null),e.Type<=1?r.a.createElement(l.g,null,r.a.createElement(l.d,{exact:!0,path:"/",component:E}),r.a.createElement(l.d,{path:"/BBQ",component:Q}),r.a.createElement(l.d,{path:"/NewBBQForm",component:H}),r.a.createElement(l.d,{path:"/Favorite",component:te}),r.a.createElement(l.d,{path:"/Order",component:me}),r.a.createElement(l.d,{path:"/NewOrderForm",component:be}),r.a.createElement(l.d,{path:"/User",component:Be}),r.a.createElement(l.d,{path:"/UserRegistrationForm",component:je}),r.a.createElement(l.d,{path:"/UserLogout",component:Fe}),r.a.createElement(l.d,{component:Ue})):e.Type<=2?r.a.createElement(l.g,null,r.a.createElement(l.d,{exact:!0,path:"/",component:E}),r.a.createElement(l.d,{path:"/BBQ",component:Q}),r.a.createElement(l.d,{path:"/NewBBQForm",component:H}),r.a.createElement(l.d,{path:"/Favorite",component:te}),r.a.createElement(l.d,{path:"/Order",component:me}),r.a.createElement(l.d,{path:"/NewOrderForm",component:be}),r.a.createElement(l.d,{path:"/UserRegistrationForm",component:je}),r.a.createElement(l.d,{path:"/UserLogout",component:Fe}),r.a.createElement(l.d,{component:Ue})):e.Type<=3?r.a.createElement(l.g,null,r.a.createElement(l.d,{exact:!0,path:"/",component:E}),r.a.createElement(l.d,{path:"/Favorite",component:te}),r.a.createElement(l.d,{path:"/Order",component:me}),r.a.createElement(l.d,{path:"/NewOrderForm",component:be}),r.a.createElement(l.d,{path:"/UserRegistrationForm",component:je}),r.a.createElement(l.d,{path:"/UserLogout",component:Fe}),r.a.createElement(l.d,{component:Ue})):r.a.createElement(l.g,null,r.a.createElement(l.d,{exact:!0,path:"/",component:E}),r.a.createElement(l.d,{path:"/UserRegistrationForm",component:je}),r.a.createElement(l.d,{path:"/UserLogin",component:De}),r.a.createElement(l.d,{component:Ue})),r.a.createElement(u.a,{hideProgressBar:!0}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Re=a(21),Me={login:{},token:{}};function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me.login,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER_SUCCESS":return Object(ae.a)({},t.login,{loadedAt:R()()});case"LOGOUT_USER_SUCCESS":return{};default:return e}}function Ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me.token,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TOKEN_SUCCESS":return Object(ae.a)({},t.token,{loadedAt:R()()});case"REMOVE_TOKEN_SUCCESS":return{};default:return e}}a(240);var Qe=a(137),qe=a(91),_e=a(90),He=a.n(_e),Ve=a(138);var Ge={key:"root",storage:a.n(Ve).a,version:1,debug:!1,whitelist:["login","token"],transforms:[He()("login",{expireSeconds:86400,expiredState:Me.login,persistedAtKey:"loadedAt"}),He()("token",{expireSeconds:86400,expiredState:Me.token,persistedAtKey:"loadedAt"})]},ze=Object(qe.a)(Ge,Object(Re.c)({login:Pe,token:Ye})),We=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||Re.d)(Object(Re.a)(Qe.a,(function(){return function(e){return function(t){var a;return"persist/REHYDRATE"===t.type?N(null===t||void 0===t||null===(a=t.payload)||void 0===a?void 0:a.token.token):"GET_TOKEN_SUCCESS"===t.type&&N(t.token.token),e(t)}}}))),Je=Object(Re.e)(ze,We),Xe=Object(qe.b)(Je),Ke=a(139);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:Je},r.a.createElement(Ke.a,{persistor:Xe},r.a.createElement(M.BrowserRouter,null,r.a.createElement(Te,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[141,1,2]]]);
//# sourceMappingURL=main.d2fc0665.chunk.js.map